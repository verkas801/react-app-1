(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{104:function(e,t,n){},116:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n(1),a=n(43),i=n.n(a),o=(n(104),n(44)),r=n(22),l=n(12),j=n(95),m=n(124),d=n(40),b=n(47),h=n(85),x=n(86),O=n(98),u=n(96),p=Object(s.createContext)(),v=function(e){Object(O.a)(n,e);var t=Object(u.a)(n);function n(e){var c;Object(h.a)(this,n),(c=t.call(this,e)).state={mypokemons:[]},c.addData=function(e,t){var n=c.state[t];Array.isArray(n)?n.push(e):n=e,c.setState(Object(b.a)({},t,n),(function(){c.storeData()}))},c.storeData=function(){localStorage.setItem("states",JSON.stringify(c.state))},c.removeData=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0;t=n?c.state[s].filter((function(t){return t[n]!==e})):e,c.setState(Object(b.a)({},s,t),(function(){c.storeData()}))};var s=localStorage.getItem("states");return c.state=s?JSON.parse(s):c.state,c}return Object(x.a)(n,[{key:"render",value:function(){return console.log(this.state),Object(c.jsx)(p.Provider,{value:Object(o.a)(Object(o.a)({},this.state),{},{addContext:this.addData,removeContext:this.removeData}),children:this.props.children})}}]),n}(s.Component),f=n.p+"static/media/pokeball.8e8e9d3a.svg",N=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"row justify-content-center pt-4",children:Object(c.jsx)("div",{className:"col-10 col-md-8 col-lg-8",children:Object(c.jsxs)("div",{className:"mycard col-12 mt-2",children:[Object(c.jsx)("div",{className:"col-12 align-self-center",children:Object(c.jsx)("img",{src:f,className:"img-home",alt:"logoStore"})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("p",{className:"title-profile",children:"Welcome to PokeStore"}),Object(c.jsx)("p",{className:"title-profile",children:"Lets Catch & Collect Pokemons Here"})]}),Object(c.jsx)("div",{className:"col-12 align-self-center",children:Object(c.jsx)(r.b,{className:"btn btn-warning btn-sm",to:"/pokemon/list",children:"Getting Started"})})]})})})})},g=n(97),k=n(28),y=function(e){var t=e.data,n=e.release,s=t.name,a=t.image,i=t.count,o=t.nickName;return Object(c.jsx)("div",{className:"col-4 col-md-3 col-lg-2",children:Object(c.jsxs)("div",{className:"mycard col-12 mt-2",children:[Object(c.jsx)("img",{className:"img-fluid img-resp",src:a,alt:o||s}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"title float-center",children:s})}),o?Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"desc float-center",children:o})}):"",void 0!==i?i>0?Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"badge owned",children:"owned : "+i})}):Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"badge not-owned",children:"not owned"})}):"",Object(c.jsxs)(r.b,{className:"btn btn-warning btn-sm mb-3 mt-3",to:{pathname:"/pokemon/list/detail/"+s,prop:t},children:[Object(c.jsx)(k.e,{})," Detail"]}),"\xa0",o?Object(c.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){n(t)},children:[Object(c.jsx)(k.d,{})," Release"]}):""]})})},w=n(66),C=n(31),S=n.n(C);function P(){var e=Object(w.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      moves {\n        move {\n          name\n        }\n      }\n      types {\n        type {\n          name\n        }\n      }\n    }\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(w.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      count\n      next\n      previous\n      results {\n        id\n        url\n        name\n        image\n      }\n    }\n  }\n"]);return D=function(){return e},e}var I=S()(D()),A=S()(P()),$=function(e){var t=Object(s.useState)({limit:14,offset:0}),n=Object(g.a)(t,2),a=n[0],i=n[1],o=Object(s.useContext)(p).mypokemons,r=Object(m.useQuery)(I,{variables:{limit:a.limit,offset:a.offset}}),l=r.data,j=(l=void 0===l?{}:l).pokemons,d=void 0===j?[]:j,b=r.loading,h=r.error;if(b)return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"\xa0"}),Object(c.jsx)("p",{children:"\xa0"})]});if(h)return Object(c.jsx)("p",{children:h});var x=d.results,O=d.count;x.forEach((function(e){e.count=o.filter((function(t){return t.id===e.id})).length}));var u=function(e){var t=a.offset+(a.limit+1)*e;i({limit:a.limit,offset:t<1?1:t>O?O:t})};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3 mr-auto",children:Object(c.jsx)("button",{type:"button",onClick:function(){u(-1)},className:"btn",children:Object(c.jsx)(k.a,{size:40,color:"orange"})})}),Object(c.jsx)("div",{className:"col-3 offset-6 ml-auto",children:Object(c.jsx)("button",{type:"button",onClick:function(){u(1)},className:"btn",children:Object(c.jsx)(k.b,{size:40,color:"orange"})})})]})})}),Object(c.jsx)("div",{className:"row m-2",children:x.map((function(e){return Object(c.jsx)(y,{data:e},e.id)}))})]})},q=function(e){var t=Object(s.useContext)(p),n=t.mypokemons,a=t.removeContext,i=function(e){var t=e.nickName;window.confirm("Are you sure want to release "+t+"?")&&(a(t,"nickName","mypokemons"),alert(t+" has been released"))};return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"row m-2",children:n.length>0?n.map((function(e){return Object(c.jsx)(y,{data:e,release:i},e.nickName)})):Object(c.jsxs)("div",{className:"row justify-content-center",children:[Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("p",{className:"title-profile",children:"You don't have any pokemons, let's catch them"})}),Object(c.jsx)("div",{className:"row justify-content-center col-4 col-md-3 col-lg-2",children:Object(c.jsxs)(r.b,{className:"btn btn-primary btn-sm",to:"/pokemon/list",children:[Object(c.jsx)(k.c,{})," Catch"]})})]})})})})},B=function(e){var t=Object(s.useContext)(p),n=t.addContext,a=t.removeContext,i=t.mypokemons,o=Object(l.h)().prop,r=Object(l.g)(),j=Object(l.i)().name,d=Object(m.useQuery)(A,{variables:{name:j}}),b=d.data,h=(b=void 0===b?{}:b).pokemon,x=void 0===h?[]:h,O=d.loading,u=d.error;if(O)return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"\xa0"}),Object(c.jsx)("p",{children:"\xa0"})]});if(u)return Object(c.jsx)("p",{children:u});for(var v=o.id,f=o.image,N=o.nickName,g=x.moves,y=x.types,w=[],C=0;C<5;C++)w.push(g[C]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"row mt-2",children:Object(c.jsx)("div",{className:"col-4 mr-auto",children:Object(c.jsxs)("button",{type:"button",onClick:function(){r.goBack()},className:"btn btn-primary btn-sm",children:[Object(c.jsx)(k.a,{size:30}),"Back"]})})})})}),Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-10 col-md-8 col-lg-8",children:Object(c.jsx)("div",{className:"mycard col-12 mt-2",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("img",{className:"img-fluid img-profile",src:f,alt:j}),N?Object(c.jsxs)("button",{onClick:function(){!function(e){var t=e.nickName;window.confirm("Are you sure want to release "+t+"?")&&(a(t,"nickName","mypokemons"),alert(t+" has been released"),r.push("/mypokemon/list"))}(o)},className:"btn btn-danger btn-sm mt-2",children:[Object(c.jsx)(k.d,{})," Release"]}):Object(c.jsxs)("button",{onClick:function(){Math.random()<.5?alert("Catch Pokemon Failed, Lets try again. . ."):function(){var e,t;do{(t=prompt("Congrats! You catch a "+j+", Give your new pokemon's nickname"))?(e=i.filter((function(e){return e.nickName===t})).length)&&alert("Pokemon's nickname must be unique"):(alert("Please give a nickname"),e=!0)}while(e);n({id:v,name:j,image:f,nickName:t},"mypokemons"),alert("Your new "+j+" nickname is "+t),r.push("/mypokemon/list")}()},className:"btn btn-primary btn-sm mt-2",children:[Object(c.jsx)(k.c,{})," Catch"]})]}),Object(c.jsxs)("div",{className:"col-7",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("span",{className:"title-profile float-center",children:j}),N?Object(c.jsxs)("span",{className:"title float-center",children:["Nickname : ",N]}):""]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"title float-center",children:"Type :"})}),Object(c.jsx)("div",{className:"row",children:y.map((function(e){return Object(c.jsx)("span",{className:"badge",children:e.type.name},e.type.name)}))}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("span",{className:"title float-center",children:"Moves :"})}),Object(c.jsx)("div",{className:"row",children:w.map((function(e){return Object(c.jsx)("span",{className:"badge",children:e.move.name},e.move.name)}))})]})]})})})})]})},F=n(125),J=n(126),L=n.p+"static/media/pikachu.f8578816.svg",T=n.p+"static/media/pokecenter.3de2bd7a.png",z=function(){return Object(c.jsxs)(F.a,{collapseOnSelect:!0,sticky:"top",expand:"true",bg:"dark",variant:"dark",children:[Object(c.jsx)(r.b,{to:"/",style:{textDecoration:"none"},children:Object(c.jsxs)(F.a.Brand,{className:"m-2",children:[Object(c.jsx)("img",{width:"60px",height:"50px",src:f,alt:"logo"}),"PokeStore"]})}),Object(c.jsx)(F.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(c.jsx)(F.a.Collapse,{id:"responsive-navbar-nav",children:Object(c.jsxs)(J.a,{className:"mr-auto",children:[Object(c.jsxs)(r.b,{className:"m-2",to:"/pokemon/list",style:{textDecoration:"none",color:"#fff"},children:[Object(c.jsx)("img",{width:"35px",height:"35px",src:T,alt:"logoPokemon"})," Store"]}),Object(c.jsxs)(r.b,{className:"m-2",to:"/mypokemon/list",style:{textDecoration:"none",color:"#fff"},children:[Object(c.jsx)("img",{width:"35px",height:"35px",src:L,alt:"logoPokemon"})," My Pokemon"]})]})})]})},M=(n(116),n.p+"static/media/bg-3.c2f762d8.jpg");var Y=function(){var e=new d.a,t=new j.a({uri:"https://graphql-pokeapi.vercel.app/api/graphql",cache:e});return Object(c.jsx)(v,{children:Object(c.jsx)(m.ApolloProvider,{client:t,children:Object(c.jsxs)(r.a,{basename:"/react-app-1",children:[Object(c.jsx)(z,{}),Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("div",{className:"container-fluid",style:{backgroundImage:"url("+M+")"},children:Object(c.jsx)("header",{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",component:N}),Object(c.jsx)(l.b,{exact:!0,path:"/pokemon/list",component:$}),Object(c.jsx)(l.b,{exact:!0,path:"/mypokemon/list",component:q}),Object(c.jsx)(l.b,{exact:!0,path:"/pokemon/list/detail/:name",component:B}),Object(c.jsx)(l.a,{to:"/"})]})})})})]})})})},E=(n(117),n(118),n(119),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))});i.a.render(Object(c.jsx)(Y,{}),document.getElementById("root")),E()}},[[120,1,2]]]);
//# sourceMappingURL=main.d77a95b2.chunk.js.map